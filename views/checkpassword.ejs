<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Enter Password</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 30px; background:#f7f7f7; }
    .card { max-width:360px; margin:0 auto; padding:20px; background:#fff; border-radius:8px; box-shadow:0 6px 18px rgba(0,0,0,0.06); }
    label { display:block; margin-bottom:8px; font-weight:600; }
    .field { display:flex; gap:8px; align-items:center; }
    input[type="password"], input[type="text"] {
      flex:1; padding:10px; border:1px solid #ddd; border-radius:6px; font-size:14px;
    }
    button { padding:10px 14px; border:0; background:#2b6cb0; color:#fff; border-radius:6px; cursor:pointer; }
    .small { font-size:13px; color:#666; margin-top:8px; }
  </style>
</head>
<body>
  <% if (typeof error !== 'undefined') { %>
  <script>alert("<%= error %>");</script>
<% } %>
  <div class="card">
    <h2>Enter Password</h2>
    <!-- set action to the URL that handles the form on your server -->
<form method="POST" id="pwForm" action="<%= what === 'edit' ? '/post/' + id + '/edit' : '/post/' + id + '/delete?_method=DELETE' %>">

      <!-- If you only want password, leave out id/user fields -->
      <label for="password">Password</label>
      <div class="field">
        <input id="password" name="password" type="password" autocomplete="current-password" required />
        <button type="button" id="toggle">Show</button>
      </div>

      <div style="margin-top:16px;">
        <button type="submit">Submit</button>
      </div>

      <p class="small">Tip: passwords should be sent over HTTPS and verified on the server.</p>
    </form>
  </div>

  <script>
    // show/hide toggle
    const pw = document.getElementById('password');
    const toggle = document.getElementById('toggle');
    toggle.addEventListener('click', () => {
      if (pw.type === 'password') {
        pw.type = 'text';
        toggle.textContent = 'Hide';
      } else {
        pw.type = 'password';
        toggle.textContent = 'Show';
      }
    });

    // Optional: prevent sending blank or whitespace-only passwords
    document.getElementById('pwForm').addEventListener('submit', e => {
      const value = pw.value.trim();
      if (!value) {
        e.preventDefault();
        alert('Please enter a password.');
      }
    });
  </script>
</body>
</html>
